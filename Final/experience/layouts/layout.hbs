<html>

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  {{component "css-global-reset"}}
  </style>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <style>
  {{component "css-global-styles"}}
  {{component "css-sidebar"}}
  {{component "css-layout-device-details"}}
  </style>
  <!-- Include jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
</head>

<body id="layout-device-details">
  <div style="display:flex; flex-direction:row; height:100%; width:100%;">
    {{! Sidebar }}
    <div class="sidebar-container">
      <div style="display:flex; flex-direction:column; height:100%;">
        <div class="sidebar-logo-small">
          <a href="/"><img src="https://{{@root.globals.filesRoot}}/{{application.id}}/kanarra-logo-small.png"></a>
          <h1>{{pageData.experience.experienceGroups.[0].name}}</h1>
        </div>
        
        <div>
          <p class="sidebar-header">
            Devices
          </p>
        </div>
        <div style="overflow-y:scroll;">
          <ul>
            {{#each pageData.devices}}
              <li>
                <a class="device-list-item-link"
                  href="/device-details?device={{this.id}}{{#each @root.pageData.selectedGroupIds}}&group={{this}}{{/each}}">
                  <div id="{{this.id}}"
                    class="device-list-item{{#eq this.id @root.request.query.device}} selected{{/eq}}">
                    <div style="width:3px; height:40px; margin-right:5px;"
                      class="{{#eq this.compositeState.state_description.value 'Running'}} status-green{{else}} status-red{{/eq}}">
                    </div>
                    <div
                      style="box-sizing:border-box;margin-top:4px;padding:2px; width:32px;height:32px;background-color:white;border:1px solid #EFEEE8;margin-right:5px;">
                      <img src="https://{{@root.globals.filesRoot}}/{{@root.application.id}}{{this.tags.image.[0]}}"
                        style="width:100%; height:100%; object-fit:contain;">
                    </div>
                    <div>{{this.tags.serial.[0]}}</div>
                  </div>
                </a>
              </li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
    {{! Dashboard }}
    <div style="display:flex; flex-direction:column; width:100%; height:100%;box-sizing:border-box;">
      <div style="margin-bottom:15px; margin-top:10px; margin-right: 30px; display:flex; justify-content:flex-end;">
          <form style="margin-right: 30px;" action="/maintenance-intervals">
            <button class="button">Maintenance Intervals</button>
          </form>
        <form action="/logout">
            <button class="button">Logout</button>
          </form>
      </div>
      <div id="main"
        style="box-sizing:border-box;overflow-y:scroll;flex-basis:100%;padding:10px;margin:0px 30px 30px 30px;background-color:white;box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.10)">
        {{page}}
      </div>
    </div>
  </div>
</body>

</html>
{{!-- <!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  {{component "css-global-reset"}}
  </style>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <style>
  {{component "css-global-styles"}}
  {{component "css-sidebar"}}
  {{component "css-layout-device-details"}}
  </style>
  <!-- Include jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
</head>

<body id="layout-device-details">
  <div style="display:flex; flex-direction:row; height:100%; width:100%;">
    {{! Sidebar }}
    <div class="sidebar-container">
      <div style="display:flex; flex-direction:column; height:100%;">
        <div class="sidebar-logo-small">
          <a href="/"><img src="https://{{@root.globals.filesRoot}}/{{application.id}}/kanarra-logo-small.png"></a>
        </div>
        <div>
          <p class="sidebar-header">
            Devices
          </p>
        </div>
        <div style="overflow-y:scroll;">
          <ul>
            {{#each pageData.devices}}
              <li>
                <a class="device-list-item-link"
                  href="/device-details?device={{this.id}}{{#each @root.pageData.selectedGroupIds}}&group={{this}}{{/each}}">
                  <div id="{{this.id}}"
                    class="device-list-item{{#eq this.id @root.request.query.device}} selected{{/eq}}">
                    <div style="width:3px; height:40px; margin-right:5px;"
                      class="{{#eq this.compositeState.state_description.value 'Running'}} status-green{{else}} status-red{{/eq}}">
                    </div>
                    <div
                      style="box-sizing:border-box;margin-top:4px;padding:2px; width:32px;height:32px;background-color:white;border:1px solid #EFEEE8;margin-right:5px;">
                      <img src="https://{{@root.globals.filesRoot}}/{{@root.application.id}}{{this.tags.image.[0]}}"
                        style="width:100%; height:100%; object-fit:contain;">
                    </div>
                    <div>{{this.tags.serial.[0]}}</div>
                  </div>
                </a>
              </li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
    {{! Dashboard }}
    <div style="display:flex; flex-direction:column; width:100%; height:100%;box-sizing:border-box;">
      <div style="margin-bottom:15px; margin-top:10px; margin-right: 30px; display:flex; justify-content:flex-end;">
        <div>
          <form action="/logout">
            <button class="button">Logout</button>
          </form>
        </div>
      </div>
      {{page}}
    </div>
  </div>
</body>

</html> --}}